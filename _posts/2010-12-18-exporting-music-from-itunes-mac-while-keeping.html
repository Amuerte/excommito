--- 
layout: post
title: Exporting music from Itunes (Mac) while keeping source folders arrangement
published: true
date: 2010-12-18
tags: 
- music-management
redirect_from: /blog/exporting-music-from-itunes-mac-while-keeping/
---
<p>Thanks to smart playlists in <em>iTunes</em>, you can build a playlist gathering the best songs of your library in few seconds. I recently had to copy a such <em>best of</em> selection to an external hard drive. A simple drag &amp; drop from <em>iTunes</em> to the <em>Finder</em> can do the trick, yet resulting in a mess of unrelated files now all located in the same directory.<br />
So, what is the easiest way to copy a playlist content to a specified location and have the folders arrangement of your source files duplicated on your destination drive ?</p>

<p>Here is the solution that I&rsquo;ve reached, unfortunately it involves no less than 3 different steps.</p>

<h3>Export the playlist to M3U file</h3>

<p>Because it can&rsquo;t be done directly in <em>iTunes</em>, you have to export your playlist first.<br />
Select your playlist and right click <em>Export</em> then choose the M3U8 format. M3U export has been added <em>recently</em> to <em>iTunes</em> (in one of the 9.x release), so upgrade your <em>iTunes</em> if the only choices you&rsquo;re faced with are text and xml.</p>

<h3>Fix the M3U file</h3>

<p><em>iTunes</em> saves M3U files using DOS/Windows newlines, fire up your <em>Terminal.app</em> to correct that :</p>

<div class="CodeRay">
  <div class="code"><pre>tr '\r' '\n' &lt; input_m3u</pre></div>
</div>


<h3>Transfer files using <em>cpio</em> command</h3>

<p><em>cpio</em> is the perfect tool to copy files listed in the M3U. Run it with <em>-dp</em> options to activate pass-through mode and automatic directories creation :</p>

<div class="CodeRay">
  <div class="code"><pre>tr '\r' '\n' &lt; input_m3u | cpio -pd  destination_directory > m3u_file</pre></div>
</div>


<p>Voil√† ! All files are copied to destination and the directories structure is preserved which is neat when you sort your files by artists or year, etc.</p>

<p><iframe src="http://www.youtube.com/embed/1N5vNI1ISUc?wmode=transparent" allowfullscreen frameborder="0" height="417" width="500"></iframe></p>
